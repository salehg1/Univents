<!DOCTYPE html>
<html lang="ar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Univents</title>
    <link rel="stylesheet" href="Homepage.css" />
<script src="Homepage.js" defer></script>
<script src="../Settings/lang.js" defer></script>
</head>
  <body>
    
    <div class="navbar">
      <a href="https://www.taibahu.edu.sa/" target="_blank">
        <img src="taibah_logo.png" class="logo" alt="Ø´Ø¹Ø§Ø± Ø·ÙŠØ¨Ø©" />
      </a>

      <a href="../HomePage/About/About.html" target="_blank">
        <button id="about-btn" data-translate="about">About</button>
      </a>

      <a href="../Settings/main_settings/Settings.html">
        <button id="profile-btn" data-translate="settings">settings</button>
      </a>

    </div>

<!---------------------------------------------------------------------------------------------------------------------------->
<!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
<div class="Notificaion-container">
  <button class="arrow left" onclick="prevSlide()">ðŸ¡°</button>

  <div class="Notificaion-slide">
    <div class="slide active">
      <a href="./Notificaion/Notificaion1.html">
        <img src="./Notificaion/Notification1.png" alt="Notification 1" />
      </a>
    </div>

    <div class="slide">
      <a href="./activities/activities1.html">
        <img src="./activities/activity1.png" alt="Notification 2" />
      </a>
    </div>

    <div class="slide">
      <a href="./event/event1.html">
        <img src="./event/events1.png" alt="Notification 3" />
      </a>
    </div>
  </div>

  <button class="arrow right" onclick="nextSlide()">ðŸ¡²</button>
</div>
<!---------------------------------------------------------------------------------------------------------------------------->
<!-- Events Section -->

<div class="container">

  <div class="section">
    <span>Events Section</span>
    <button class="add" onclick="window.location.href='add.html'">Add</button>
  </div>

  <div class="events-wrapper">
    
    <button class="slider-arrow event-right" id="evRight">ðŸ¡²</button>

    <div class="events-container" id="eventsContainer"></div>
    

    <button class="slider-arrow event-left" id="evLeft">ðŸ¡°</button>
  </div>

</div>

<!---------------------------------------------------------------------------------------------------------------------------->
<!-- Activities Section -->
<div class="section">
  <span>Sports Activities Section</span>
  <button class="add" onclick="window.location.href='add.html?type=activities'">Add</button>
</div>

<div class="activities-wrapper">
  
  <button class="slider-arrow event-right" id="actRight">ðŸ¡²</button>

  <div class="Activities-container" id="activitiesSlider"></div>

  <button class="slider-arrow event-left" id="actLeft">ðŸ¡°</button>
  
</div>

<!---------------------------------------------------------------------------------------------------------------------------->
<!-- Student Clubs Section -->
 
<div class="section">
  <span>Student Clubs Section</span>
  <button class="add" onclick="window.location.href='add.html?type=studentClubs'">Add</button>
</div>

<div class="student-wrapper">
  
  <button class="slider-arrow event-right" id="stuRight">ðŸ¡²</button>

  <div class="Student-container" id="studentSlider"></div>

  <button class="slider-arrow event-left" id="stuLeft">ðŸ¡°</button>
  
</div>

<!---------------------------------------------------------------------------------------------------------------------------->
<!-- Colleges Section -->
<div class="section">
  <span>Colleges Categories Event Section</span>
  <button class="add" onclick="window.location.href='add.html?type=colleges'">Add</button>
</div>

<div class="colleges-wrapper">
  
  <button class="slider-arrow event-right" id="colRight">ðŸ¡²</button>

  <div class="Colleg-container" id="collegesSlider"></div>
  

  <button class="slider-arrow event-left" id="colLeft">ðŸ¡°</button>
  
</div>

<!---------------------------------------------------------------------------------------------------------------------------->


    <footer>
      <p data-translate="footer">&copy; FS WebDev Univents</p>
    </footer>

<!-- Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø§Ø¦Ù…Ù‡ -->
<div id="loginModalOverlay" style="
  position: fixed;
  top: 0; 
  left: 0;
  width: 100%; 
  height: 100%;
  background-color: rgba(0,0,0,0.5);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
">
<iframe src="../LoginPages/login.php" 
  style="
    width: 420px; 
    height: 56vh;              /* Ø¨Ø¯Ù„ 600px Ø¥Ù„Ù‰ Ù†Ø³Ø¨Ø© Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø© */
    border-radius: 15px; 
    border: none; 
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
  ">
</iframe>

<script>

function renderSection(storageKey, containerSelector) {
  const container = document.querySelector(containerSelector);
  if (!container) return;

  const list = JSON.parse(localStorage.getItem(storageKey)) || [];


  list.forEach(event => {
    const card = document.createElement("div");

    if (containerSelector === ".events-container") {
      card.className = "event";
    } else if (containerSelector === ".Activities-container") {
      card.className = "Activities";
    } else if (containerSelector === ".Student-container") {
      card.className = "Student";
    } else if (containerSelector === ".Colleg-container") {
      card.className = "Colleg";
    }

    card.style.cursor = "pointer";

    card.innerHTML = `
      <img src="${event.image}" alt="${event.name}">
      <p class="desc title">${event.name}</p>
      <p class="desc date">${event.time}</p>
    `;

    card.addEventListener("click", () => {
      window.location.href = `./event/event-card.html?id=${event.id}&type=${storageKey}`;
    });

    container.appendChild(card);
  });
}

function createSlider(storageKey, containerId, leftBtnId, rightBtnId) {
  
  let list = JSON.parse(localStorage.getItem(storageKey)) || [];
  let index = 0;

  const container = document.getElementById(containerId);
  const leftBtn = document.getElementById(leftBtnId);
  const rightBtn = document.getElementById(rightBtnId);

  if (!container) return;

  function render() {
    container.innerHTML = "";

    let slice = list.slice(index, index + 3);

    slice.forEach(event => {
      const card = document.createElement("div");
      card.className = "event";

      card.innerHTML = `
        <img src="${event.image}" alt="${event.name}">
        <p class="desc title">${event.name}</p>
        <p class="desc date">${event.time}</p>
      `;

      card.onclick = () =>
        window.location.href = `./event/event-card.html?id=${event.id}&type=${storageKey}`;

      container.appendChild(card);
    });
  }

  rightBtn.addEventListener("click", () => {
       if (index + 3 < list.length) {
      index++;
      render();
    }
  });

  leftBtn.addEventListener("click", () => {
    if (index > 0) {
      index--;
      render();
    }
  });

  render();
}

createSlider("events","eventsContainer","evLeft","evRight");
createSlider("activities","activitiesSlider","actLeft","actRight");
createSlider("studentClubs","studentSlider","stuLeft","stuRight");
createSlider("colleges","collegesSlider","colLeft","colRight");

</script>


  </body>
</html>
