<!DOCTYPE html>
<html lang="ar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Univents</title>
    <link rel="stylesheet" href="Homepage.css" />
    <!-- Ù…Ù„Ù css -->
    <script src="Homepage.js" defer></script>
    <script src="../Settings/lang.js" defer></script>
    <!-- Ù…Ù„Ù js -->
  </head>
  <body>
    
    <!------------------------------------------------------------------------------------------------------------------------------->

    <!-- class ØªØµÙ…ÙŠÙ… Ù„Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <div class="navbar">
      <!-- Ø§Ù„Ù„ÙˆÙ‚Ùˆ Ø­Ù‚ Ø§Ù„ØµÙØ­Ù‡ -->
      <a href="https://www.taibahu.edu.sa/" target="_blank">
        <img src="taibah_logo.png" class="logo" alt="Ø´Ø¹Ø§Ø± Ø·ÙŠØ¨Ø©" />
      </a>

      <!-- Ø²Ø± Ø¹Ù† Ø§Ù„ØµÙØ­Ù‡ -->
      <a href="../HomePage/About/About.html" target="_blank">
        <button id="about-btn" data-translate="about">About</button>
      </a>

      <a href="../Settings/main_settings/Settings.html">
        <button id="profile-btn" data-translate="settings">settings</button>
      </a>

      <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
      <div class="openModalBtn-Wrapper">
        <button onclick="openLoginModal()" class="Btn">
          <div class="sign">
            <svg viewBox="0 0 512 512">
              <path
                d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 
                406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 
                0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 
                9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 
                32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"
              ></path>
            </svg>
          </div>
          <div class="text" data-translate="signUp">Log in</div>
        </button>
      </div>
    </div>

<!----------------------------------------------------------------------->

    <div class="Notificaion-container">
      <button class="arrow left" onclick="prevSlide()">ðŸ¡°</button>

      <div class="Notificaion-slide">
        <div class="slide active">
          <a href="./Notificaion/Notificaion1.html">
            <img src="./Notificaion/Notification1.png" alt="Notification 1" />
          </a>
        </div>

        <div class="slide">
          <a href="./activities/activities1.html">
            <img src="./activities/activity1.png" alt="Notification 2" />
          </a>
        </div>

        <div class="slide">
          <a href="./event/event1.html">
            <img src="./event/events1.png" alt="Notification 3" />
          </a>
        </div>ØµÙˆØ±Ø© Ø§
      </div>

      <button class="arrow right" onclick="nextSlide()">ðŸ¡²</button>
    </div>


<!----------------------------------------------------------------------->
<!-- Events Section -->

<div class="container">

  <div class="section">
    <span>Events Section</span>
  </div>

  <div class="events-wrapper">
    
    <button class="slider-arrow event-right" id="evRight">ðŸ¡²</button>

    <div class="events-container" id="eventsContainer"></div>
    

    <button class="slider-arrow event-left" id="evLeft">ðŸ¡°</button>
  </div>

</div>
<!----------------------------------------------------------------------->
<!-- Activities Section -->
<div class="section">
  <span>Sports Activities Section</span>
</div>

<div class="activities-wrapper">
  
  <button class="slider-arrow event-right" id="actRight">ðŸ¡²</button>

  <div class="Activities-container" id="activitiesSlider"></div>

  <button class="slider-arrow event-left" id="actLeft">ðŸ¡°</button>
  
</div>

<!----------------------------------------------------------------------->
<!-- Student Clubs Section -->

<div class="section">
  <span>Student Clubs Section</span>
</div>

<div class="student-wrapper">
  
  <button class="slider-arrow event-right" id="stuRight">ðŸ¡²</button>

  <div class="Student-container" id="studentSlider"></div>

  <button class="slider-arrow event-left" id="stuLeft">ðŸ¡°</button>
  
</div>

<!----------------------------------------------------------------------->
<!-- Colleges Section -->
 
<div class="section">
  <span>Colleges Categories Event Section</span>
</div>

<div class="colleges-wrapper">
  
  <button class="slider-arrow event-right" id="colRight">ðŸ¡²</button>

  <div class="Colleg-container" id="collegesSlider"></div>
  

  <button class="slider-arrow event-left" id="colLeft">ðŸ¡°</button>
  
</div>

<!---------------------------------------------------------------------------------------------------------------------------->

    <footer>
      <p data-translate="footer">&copy; FS WebDev Univents</p>
    </footer>

    <!-- Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø§Ø¦Ù…Ù‡ -->
    <div id="loginModalOverlay" style="
      position: fixed;
      top: 0; 
      left: 0;
      width: 100%; 
      height: 100%;
      background-color: rgba(0, 0, 0, 0.699);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;">
      <iframe src="../LoginPages/login.php" 
        style="width: 450px; height: 700px; border-radius: 15px; border: none;">
      </iframe>
    </div>
  </body>

<script>

function renderSection(storageKey, containerSelector) {
  const container = document.querySelector(containerSelector);
  if (!container) return;

  const list = JSON.parse(localStorage.getItem(storageKey)) || [];


  list.forEach(event => {
    const card = document.createElement("div");

    if (containerSelector === ".events-container") {
      card.className = "event";
    } else if (containerSelector === ".Activities-container") {
      card.className = "Activities";
    } else if (containerSelector === ".Student-container") {
      card.className = "Student";
    } else if (containerSelector === ".Colleg-container") {
      card.className = "Colleg";
    }

    card.style.cursor = "pointer";

    card.innerHTML = `
      <img src="${event.image}" alt="${event.name}">
      <p class="desc title">${event.name}</p>
      <p class="desc date">${event.time}</p>
    `;

    card.addEventListener("click", () => {
      window.location.href = `./event/event-card.html?id=${event.id}&type=${storageKey}`;
    });

    container.appendChild(card);
  });
}

function createSlider(storageKey, containerId, leftBtnId, rightBtnId) {
  
  let list = JSON.parse(localStorage.getItem(storageKey)) || [];
  let index = 0;

  const container = document.getElementById(containerId);
  const leftBtn = document.getElementById(leftBtnId);
  const rightBtn = document.getElementById(rightBtnId);

  if (!container) return;

  function render() {
    container.innerHTML = "";

    let slice = list.slice(index, index + 3);

    slice.forEach(event => {
      const card = document.createElement("div");
      card.className = "event";

      card.innerHTML = `
        <img src="${event.image}" alt="${event.name}">
        <p class="desc title">${event.name}</p>
        <p class="desc date">${event.time}</p>
      `;

      card.onclick = () =>
        window.location.href = `./event/event-card.html?id=${event.id}&type=${storageKey}`;

      container.appendChild(card);
    });
  }

  rightBtn.addEventListener("click", () => {
       if (index + 3 < list.length) {
      index++;
      render();
    }
  });

  leftBtn.addEventListener("click", () => {
    if (index > 0) {
      index--;
      render();
    }
  });

  render();
}

createSlider("events","eventsContainer","evLeft","evRight");
createSlider("activities","activitiesSlider","actLeft","actRight");
createSlider("studentClubs","studentSlider","stuLeft","stuRight");
createSlider("colleges","collegesSlider","colLeft","colRight");

</script>


</html>
